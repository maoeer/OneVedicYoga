# OneVedicYoga 项目说明

## 项目概述
OneVedicYoga 是一个专注于瑜伽教学与健康管理的全栈应用，旨在为用户提供便捷的瑜伽学习体验和个性化健康服务。项目采用前后端分离架构，前端基于 Vue 3 构建交互式用户界面，后端通过 Express 提供高效的 API 服务，结合 MySQL 数据库存储核心业务数据与 Redis 缓存提升系统性能，为用户打造稳定、流畅的使用体验。

## 技术架构

### 前端技术栈
- **核心框架**：Vue 3.5.18（采用 Composition API 实现组件化开发）
- **路由管理**：Vue Router 4.5.1（负责页面路由跳转与导航管理）
- **状态管理**：Pinia 3.0.3（替代 Vuex 的轻量级状态管理方案，支持 TypeScript）
- **构建工具**：Vite 7.1.2（提供快速的开发热更新与生产环境构建）
- **类型检查**：TypeScript 5.8.3（增强代码可读性与健壮性）
- **样式处理**：Sass 1.91.0（支持嵌套语法与模块化样式开发）
- **HTTP 客户端**：Axios 1.11.0（处理与后端的 API 通信，包含请求/响应拦截器）
- **动画支持**：@lottiefiles/dotlottie-vue 0.9.2（提供丰富的动画效果）
- **开发依赖**：
  - @vitejs/plugin-vue 6.0.1（Vue 与 Vite 的集成插件）
  - vue-tsc 3.0.5（Vue TypeScript 类型检查工具）


### 后端技术栈
- **服务框架**：Express 5.1.0（轻量级 Node.js Web 框架，处理 HTTP 请求）
- **开发语言**：TypeScript 5.9.2（提供静态类型检查，减少运行时错误）
- **数据库**：
  - MySQL 3.15.2（关系型数据库，存储用户信息、业务数据等核心数据）
  - Redis 5.8.3（内存数据库，用于缓存与会话管理，提升系统响应速度）
- **身份验证与安全**：
  - bcryptjs 3.0.2（密码加密处理，保障用户数据安全）
  - randomstring 1.3.1（生成随机验证码、令牌等）
- **网络通信**：
  - cors 2.8.5（处理跨域资源共享，支持前后端跨域通信）
  - nodemailer 7.0.9（邮件发送服务，用于验证码发送等功能）
- **开发工具**：
  - nodemon 3.1.10（开发环境热重载，提升开发效率）
  - ts-node 10.9.2（直接运行 TypeScript 代码）


## 前端已开发的功能

1. **项目基础架构**：
   - 基于 Vue 3 + TypeScript 的项目骨架搭建完成
   - 集成 Pinia 状态管理与 Vue Router 路由系统
   - 配置 Axios 实例（`src/api/index.ts`），包含基础 URL 设置、请求/响应拦截器，统一处理 API 通信

2. **样式与资源管理**：
   - 引入 Sass 预处理器，通过 `src/assets/css/index.scss` 实现全局样式管理
   - 配置 Vite 构建工具，支持静态资源处理与开发热更新

3. **页面路由与组件**：
   - 实现基础路由配置（包含认证相关页面 `Auth.vue`）
   - 集成 Lottie 动画组件，支持丰富的页面交互效果

4. **API 通信层**：
   - 封装 Axios 实例，统一处理请求头、超时设置（超时时间 5000ms）
   - 实现请求拦截器（可扩展用于添加认证令牌）与响应拦截器（基础错误处理）


## 后端已开发的功能

1. **服务基础架构**：
   - 基于 Express 5.1.0 搭建后端服务框架（`src/index.ts`）
   - 配置 CORS 跨域支持、JSON 解析中间件，处理 URL 编码请求体

2. **数据库连接**：
   - 实现 MySQL 数据库连接测试功能（`src/config/db.ts`），支持连接状态检测与资源释放
   - 集成 Redis 用于缓存与会话管理（依赖已配置，可扩展实现）

3. **用户认证相关接口**（`src/routes/user.ts`）：
   - **登录接口**（`POST /login`）：
     - 校验邮箱格式（正则匹配）与密码长度（不小于 6 位）
     - 通过邮箱查询用户信息，使用 bcrypt 验证密码合法性
     - 返回登录成功/失败状态及用户基本信息（ID、用户名、邮箱）
   - **验证码发送接口**（`POST /send-code`）：
     - 校验邮箱参数，调用 `sendAndStoreCode` 发送邮件验证码
     - 存储验证码（结合 Redis），返回发送结果
   - **注册接口框架**：已预留接口路径，待完善参数校验与用户创建逻辑

4. **错误处理与响应规范**：
   - 基于 `ResponseCode` 与 `ApiResponse` 定义统一响应格式（包含状态码、数据/错误信息）
   - 接口异常捕获与友好提示（如数据库连接失败、参数错误等）

5. **开发支持**：
   - 配置 nodemon 实现开发环境热重载（`npm run dev` 命令）
   - 通过 TypeScript 类型定义（如 `User`、`LoginReq`）规范请求/响应数据结构
